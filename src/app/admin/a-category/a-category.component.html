<div class="content">
    <div class="title">
        <span>Categories</span>
        <button [id]="-1" (click)="select($event)" *ngIf="categories.length > 0">Add<i class="fa fa-plus-circle fa-lg" style="padding: 0 0 0 5px;"></i></button>
    </div>
    <div class="loading" *ngIf="categories.length == 0">
        <div class="lds-dual-ring"></div>
    </div>
    <div class="list" *ngIf="categories.length > 0">
        <div class="list-item">
            <div class="edit" [ngClass]="{'edit-show': selectedCategoryId == -1}">
                <div class="inputs">
                    <div class="input">
                        <input [(ngModel)]="newText" type="text" placeholder="Text" class="edit-input">
                    </div>
                </div>
                <div class="buttons">
                    <div class="button">
                        <button (click)="postCategory()">Add<i class="fa fa-plus" style="padding: 0 0 0 5px;"></i></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="list-item" *ngFor="let category of categories; index as x">
            <div class="category">
                <button [id]="category.id" class="category-button" [ngClass]="{'category-button-selected': category.id == selectedCategoryId}" (click)="select($event)">
                    <div *ngIf="category.id == selectedCategoryId; then minus else plus"></div>
                    <ng-template #plus><div class="icon"><i class="fa fa-plus fa-lg" style="padding: 0 5px;"></i></div></ng-template>
                    <ng-template #minus><div class="icon"><i class="fa fa-minus fa-lg" style="padding: 0 5px;"></i></div></ng-template>
                    <div class="category-column">
                        <div class="category-row">Id</div>
                        <div class="category-row">{{category.id}}</div>
                    </div>
                    <div class="category-column">
                        <div class="category-row">Text</div>
                        <div class="category-row">{{category.text}}</div>
                    </div>
                </button>
            </div>
            <div [id]="'e' + category.id" class="edit" [ngClass]="{'edit-show': category.id == selectedCategoryId}">
                <div class="inputs">
                    <div class="input">
                        <input [(ngModel)]="ids[x]" type="text" placeholder="Id" class="edit-input">
                    </div>
                    <div class="input">
                        <input [(ngModel)]="texts[x]" type="text" placeholder="Text" class="edit-input">
                    </div>
                </div>
                <div class="buttons">
                    <div class="button">
                        <button (click)="putCategory(x)">Edit<i class="fa fa-edit fa-lg" style="padding: 0 0 0 5px;"></i></button>
                    </div>
                    <div class="button">
                        <button (click)="deleteCategory(category.id)">Delete<i class="fa fa-times fa-lg" style="padding: 0 0 0 5px;"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>